{
  "$schema": "https://json-schema.org/draft/2019-09/schema",
  "title": "AtomicCatenaXConstraintSchema",
  "type": "object",
  "allOf": [
    {
      "$ref": "#/definitions/AtomicCatenaXConstraint"
    }
  ],
  "$id": "./schema/constraint/schema/atomic-constraint-schemas.json",
  "definitions": {
    "AtomicCatenaXConstraint": {
      "anyOf": [
        {
          "$ref": "#/definitions/AtomicObligationConstraint"
        },
        {
          "$ref": "#/definitions/AtomicPermissionConstraint"
        },
        {
          "$ref": "#/definitions/AtomicProhibitionConstraint"
        }
      ]
    },
    "AtomicPermissionConstraint": {
      "allOf": [
        {
          "$ref": "https://w3id.org/dspace/2025/1/negotiation/contract-schema.json#/definitions/AtomicConstraint"
        },
        {
          "anyOf": [
            {
              "$ref": "#/definitions/AtomicAccessPermissionConstraint"
            },
            {
              "$ref": "#/definitions/AtomicUsagePermissionConstraint"
            }
          ]
        }
      ]
    },
    "AtomicAccessPermissionConstraint": {
      "anyOf": [
        {
          "$ref": "./schema/constraint/framework-agreement-constraint-schema.transformed.json"
        },
        {
          "$ref": "./schema/constraint/membership-constraint-schema.transformed.json"
        },
        {
          "$ref": "./schema/constraint/business-partner-number-constraint-schema.transformed.json"
        },
        {
          "$ref": "./schema/constraint/business-partner-group-constraint-schema.transformed.json"
        }
      ]
    },
    "AtomicUsagePermissionConstraint": {
      "anyOf": [
        {
          "$ref": "./schema/constraint/framework-agreement-constraint-schema.transformed.json"
        },
        {
          "$ref": "./schema/constraint/membership-constraint-schema.transformed.json"
        },
        {
          "$ref": "./schema/constraint/usage-purpose-constraint-schema.transformed.json"
        },
        {
          "$ref": "./schema/constraint/contract-reference-constraint-schema.transformed.json"
        },
        {
          "$ref": "./schema/constraint/affiliates-region-constraint-schema.transformed.json"
        },
        {
          "$ref": "./schema/constraint/affiliates-bpnl-constraint-schema.transformed.json"
        },
        {
          "$ref": "./schema/constraint/managed-legal-entity-region-constraint-schema.transformed.json"
        },
        {
          "$ref": "./schema/constraint/managed-legal-entity-bpnl-constraint-schema.transformed.json"
        },
        {
          "$ref": "./schema/constraint/data-frequency-constraint-schema.transformed.json"
        },
        {
          "$ref": "./schema/constraint/version-changes-constraint-schema.transformed.json"
        },
        {
          "$ref": "./schema/constraint/contract-termination-constraint-schema.transformed.json"
        },
        {
          "$ref": "./schema/constraint/confidential-information-measures-constraint-schema.transformed.json"
        },
        {
          "$ref": "./schema/constraint/confidential-information-sharing-constraint-schema.transformed.json"
        },
        {
          "$ref": "./schema/constraint/exclusive-usage-constraint-schema.transformed.json"
        },
        {
          "$ref": "./schema/constraint/warranty-constraint-schema.transformed.json"
        },
        {
          "oneOf": [
            {
              "$ref": "./schema/constraint/warranty-duration-constraint-schema.transformed.json"
            },
            {
              "$ref": "./schema/constraint/warranty-definition-constraint-schema.transformed.json"
            }
          ]
        },
        {
          "$ref": "./schema/constraint/liability-constraint-schema.transformed.json"
        },
        {
          "$ref": "./schema/constraint/jurisdiction-location-constraint-schema.transformed.json"
        },
        {
          "$ref": "./schema/constraint/jurisdiction-location-reference-constraint-schema.transformed.json"
        },
        {
          "$ref": "./schema/constraint/precedence-constraint-schema.transformed.json"
        },
        {
          "oneOf": [
            {
              "$ref": "./schema/constraint/data-usage-end-duration-days-constraint-schema.transformed.json"
            },
            {
              "$ref": "./schema/constraint/data-usage-end-date-constraint-schema.transformed.json"
            },
            {
              "$ref": "./schema/constraint/data-usage-end-definition-constraint-schema.transformed.json"
            }
          ]
        }
      ]
    },
    "AtomicObligationConstraint": {
      "allOf": [
        {
          "$ref": "https://w3id.org/dspace/2025/1/negotiation/contract-schema.json#/definitions/AtomicConstraint"
        },
        {
          "oneOf": [
            {
              "$ref": "./schema/constraint/data-provisioning-end-duration-days-constraint-schema.transformed.json"
            },
            {
              "$ref": "./schema/constraint/data-provisioning-end-date-constraint-schema.transformed.json"
            }
          ]
        }
      ]
    },
    "AtomicProhibitionConstraint": {
      "allOf": [
        {
          "$ref": "https://w3id.org/dspace/2025/1/negotiation/contract-schema.json#/definitions/AtomicConstraint"
        },
        {
          "anyOf": [
            {
              "$ref": "./schema/constraint/affiliates-region-constraint-schema.transformed.json"
            },
            {
              "$ref": "./schema/constraint/affiliates-bpnl-constraint-schema.transformed.json"
            },
            {
              "$ref": "./schema/constraint/usage-restriction-constraint-schema.transformed.json"
            }
          ]
        }
      ]
    }
  }
}
